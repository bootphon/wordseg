matrix:
  include:
    - os: linux
      dist: trusty
      language: python
      python: "2.7"
    - os: linux
      dist: trusty
      language: python
      python: "3.5"
    - os: osx
      osx_image: xcode8.3
      language: generic

# install boost on linux only (already here on osx)
addons:
  apt:
    packages:
      - libboost-dev

# install python3 on osx
before_install:
  - [[ "$TRAVIS_OS_NAME" == "osx" ]] && brew install python3
  - [[ "$TRAVIS_OS_NAME" == "osx" ]] && virtualenv venv --python=python3
  - [[ "$TRAVIS_OS_NAME" == "osx" ]] && source activate venv

install:
  - pip install --upgrade pip
  - pip install pandas numpy joblib pytest
  - python setup.py build
  - python setup.py install

script:
  - pytest ./test

cache:
  - pip

notifications:
  email: false
